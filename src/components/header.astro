---
import type { Code } from "astro:components";

const pages = [
    { name: "Home", href: "#home"},
    {
        name: "Projects",
        href: "#projects",
        disabled: true,
        soonDate: "Tamo En Proceso",
    },
    { name: "About", href: "#about", disabled: true, soonDate: "Tamo Viendo" },
    {
        name: "Contact",
        href: "#Contact",
        disabled: true,
        soonDate: "Tamo En Eso",
    },
]
---

<header class="h-5 sm:h-20 sticky top-0 bg-bg">
    <nav
        class="group flex h-full w-full items-center justify-between px-10 sm:justify-center"
    >
        {
            pages.map(({ disabled, name, href, soonDate }, key) => (
                <>
                    <a
                        href={href}
                        class:list={[
                            "nav-item relative hidden h-full select-none flex-col items-center justify-center gap-1 text-center text-xl sm:flex sm:px-7 font-bold text-paragraph",
                            { "pointer-events-none": disabled },
                        ]}
                        id={`nav-link-${key}`}
                    >
                        <span class="z-10">{name}</span>
                        {disabled ? (
                            <span class="absolute mt-10 -skew-x-6 text-xs text-accent">
                                {soonDate}
                            </span>
                        ) : (
                            <div class="background absolute -z-10 h-full w-full" />
                        )}
                    </a>
                </>
            ))
        }
    </nav>

    <div
        class="flex space-x-16 p-2 select-none items-center justify-center bg-bg sm:hidden"
    >
        <h1>
            <a href="/" class="text-3xl font-bold">WEIRD DEV</a>
        </h1>
        <div class="fa-solid fa-bars fa-xl"></div>
    </div>

    <div class="relative flex h-2 w-full items-center bg-bg">
        <div
            class="h-[2px] w-full rounded-l-[30%] border-t-0"
            style="background:linear-gradient(to right, transparent 3%, white 35%, white 100%)"
        >
        </div>
        <div
            class="h-[2px] w-full rounded-r-[30%] border-t-0 bg-white"
            style="background:linear-gradient(to left, transparent 3%, white 35%, white 100%);"
        >
        </div>
    </div>
</header>

<style>
    .current-page:before {
        background: var(--text-accent);
        width: 100%;
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        height: 8px;
        box-shadow: 0 0 25px 5px var(--text-accent);
    }

    .current-page-mob:before {
        background: var(--text-accent);
        width: 10px;
        content: "";
        position: absolute;
        top: 50%;
        left: -20px;
        height: 10px;
        border-radius: 100%;
        transform: translateY(-50%);
    }

    .nav-item:hover {
        color: var(--headline);
    }
</style>
